{"ast":null,"code":"import _slicedToArray from \"D:\\\\Logicom\\\\gestion bon de commande\\\\frontend\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\Logicom\\\\gestion bon de commande\\\\frontend\\\\src\\\\Components\\\\Articles\\\\ArticlesComponent.js\";\nimport React, { useEffect, useState } from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { Carousel, Card, Row, Col } from 'react-bootstrap';\nimport ArticleServices from '../../Services/ArticleServices';\nimport CategoriesServices from './../../Services/CategoriesServices';\nimport \"./../../Styles/ArticlesComponentStyle.css\";\nimport ArticleComponent from './ArticleComponent/ArticleComponent';\nexport default function ArticlesComponent({\n  parentCallback\n}) {\n  const _useState = useState([]),\n        _useState2 = _slicedToArray(_useState, 2),\n        articles = _useState2[0],\n        setArticles = _useState2[1];\n\n  const _useState3 = useState(),\n        _useState4 = _slicedToArray(_useState3, 2),\n        categorie = _useState4[0],\n        setCategorie = _useState4[1];\n\n  const _useParams = useParams(),\n        societeCode = _useParams.societeCode,\n        codeCateg = _useParams.codeCateg,\n        indexArt = _useParams.indexArt;\n\n  const _useState5 = useState(parseInt(indexArt)),\n        _useState6 = _slicedToArray(_useState5, 2),\n        index = _useState6[0],\n        setIndex = _useState6[1];\n\n  const history = useHistory();\n\n  const handleSelect = (selectedIndex, e) => {\n    setIndex(selectedIndex);\n    history.push(\"/Articles/\".concat(societeCode, \"/\").concat(codeCateg, \"/\").concat(selectedIndex));\n  };\n\n  useEffect(() => {\n    parentCallback(societeCode);\n    CategoriesServices.getCategorieByCodeCategAndCodeSec(codeCateg, societeCode).then(categories => {\n      ArticleServices.getArticlesByCodeSocieteAndCodeCateg(societeCode, codeCateg).then(arts => {\n        setCategorie(categories[0]);\n        setArticles(arts);\n\n        if (indexArt === undefined || parseInt(indexArt) >= arts.length) {\n          handleSelect(0);\n        }\n      });\n    }); // eslint-disable-next-line\n  }, [societeCode, codeCateg, parentCallback, indexArt]);\n  return React.createElement(\"div\", {\n    style: {\n      height: \"calc(100vh - 260px)\",\n      margin: \"20px\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Card.Title, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, categorie && React.createElement(\"h1\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, categorie.DesCat)), React.createElement(Carousel, {\n    activeIndex: index,\n    onSelect: handleSelect,\n    indicators: false,\n    controls: true,\n    interval: 5000,\n    style: {\n      height: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, articles.map(article => React.createElement(Carousel.Item, {\n    key: article.CodeArt,\n    style: {\n      height: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Card, {\n    style: {\n      height: \"100%\",\n      marginRight: \"5%\",\n      marginLeft: \"5%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Card.Body, {\n    style: {\n      overflowY: \"scroll\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, React.createElement(Row, {\n    style: {\n      height: \"100%\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(Col, {\n    key: article.CodeArt,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, React.createElement(ArticleComponent, {\n    article: article,\n    size: 1,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  })))))))));\n}","map":{"version":3,"sources":["D:\\Logicom\\gestion bon de commande\\frontend\\src\\Components\\Articles\\ArticlesComponent.js"],"names":["React","useEffect","useState","useParams","useHistory","Carousel","Card","Row","Col","ArticleServices","CategoriesServices","ArticleComponent","ArticlesComponent","parentCallback","articles","setArticles","categorie","setCategorie","societeCode","codeCateg","indexArt","parseInt","index","setIndex","history","handleSelect","selectedIndex","e","push","getCategorieByCodeCategAndCodeSec","then","categories","getArticlesByCodeSocieteAndCodeCateg","arts","undefined","length","height","margin","textAlign","DesCat","map","article","CodeArt","marginRight","marginLeft","overflowY"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useParams, useHistory } from 'react-router-dom'\r\nimport { Carousel, Card, Row, Col } from 'react-bootstrap'\r\nimport ArticleServices from '../../Services/ArticleServices'\r\nimport CategoriesServices from './../../Services/CategoriesServices'\r\n\r\nimport \"./../../Styles/ArticlesComponentStyle.css\"\r\nimport ArticleComponent from './ArticleComponent/ArticleComponent'\r\n\r\nexport default function ArticlesComponent({ parentCallback }) {\r\n    const [articles, setArticles] = useState([])\r\n    const [categorie, setCategorie] = useState()\r\n    const { societeCode, codeCateg, indexArt } = useParams()\r\n    const [index, setIndex] = useState(parseInt(indexArt));\r\n    const history = useHistory()\r\n\r\n    const handleSelect = (selectedIndex, e) => {\r\n        setIndex(selectedIndex)\r\n        history.push(`/Articles/${societeCode}/${codeCateg}/${selectedIndex}`)\r\n    };\r\n\r\n    useEffect(() => {\r\n        parentCallback(societeCode)\r\n        CategoriesServices.getCategorieByCodeCategAndCodeSec(codeCateg, societeCode).then(categories => {\r\n            ArticleServices.getArticlesByCodeSocieteAndCodeCateg(societeCode, codeCateg).then(arts => {\r\n                setCategorie(categories[0]);\r\n                setArticles(arts);\r\n                if (indexArt === undefined || parseInt(indexArt) >= arts.length) {\r\n                    handleSelect(0);\r\n                }\r\n            })\r\n        })\r\n        // eslint-disable-next-line\r\n    }, [societeCode, codeCateg, parentCallback, indexArt])\r\n    return (\r\n        <div style={{ height: \"calc(100vh - 260px)\", margin: \"20px\" }}>\r\n            <Card.Title>\r\n                {categorie && <h1 style={{ textAlign: \"center\" }}>{categorie.DesCat}</h1>}\r\n            </Card.Title>\r\n            <Carousel activeIndex={index} onSelect={handleSelect} indicators={false} controls={true} interval={5000} style={{ height: \"100%\" }} >\r\n                {\r\n                    articles.map(article => (\r\n                        <Carousel.Item key={article.CodeArt} style={{ height: \"100%\" }}>\r\n                            <Card style={{ height: \"100%\", marginRight: \"5%\", marginLeft: \"5%\" }}>\r\n                                <Card.Body style={{ overflowY: \"scroll\" }}>\r\n                                    <Row style={{ height: \"100%\" }}>\r\n                                        {\r\n                                            <Col key={article.CodeArt} >\r\n                                                <ArticleComponent article={article} size={1} />\r\n                                            </Col>\r\n                                        }\r\n                                    </Row>\r\n                                </Card.Body>\r\n                            </Card>\r\n                        </Carousel.Item>\r\n                    ))\r\n                }\r\n            </Carousel>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}