{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sandra\\\\MERN\\\\projet restaurant\\\\frontend Restau\\\\src\\\\Components\\\\Login\\\\LoginEmployerComponent.js\";\nimport aes256 from 'aes256';\nimport React, { useRef } from 'react';\nimport { Button, Card, Form } from 'react-bootstrap';\nimport LoginEmployerServices from '../../Services/LoginEmployerServices';\nimport CenteredContainer from '../Shared/CenteredContainer';\nexport default function LoginEmployerComponent() {\n  const loginRef = useRef();\n  const passwordRef = useRef();\n\n  async function handleSubmit() {\n    const password = passwordRef.current.value;\n    const login = loginRef.current.value;\n    const passwordCrypted = aes256.encrypt(password, password);\n    LoginEmployerServices.login(login, passwordCrypted).then(res => {\n      if (res.errorLogin === 0) {\n        const employe = aes256.decrypt(password, res.employe);\n        localStorage.setItem(\"employe\", employe);\n        window.location.reload();\n      } else if (res.errorLogin === 1) {\n        alert(\"Les informations entrées sont incorrectes\");\n      } else if (res.errorLogin === 2) {\n        alert(\"Vous n'avez pas de droit de se connecter ici\");\n      }\n    }).catch(e => {\n      console.error(e);\n    });\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(CenteredContainer, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(Card, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Card.Body, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"d-inline-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }), React.createElement(\"h3\", {\n    className: \"text-center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, \"Passer une Commande\"), React.createElement(Form, {\n    onSubmit: e => {\n      e.preventDefault();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, React.createElement(Form.Group, {\n    id: \"login\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, \"Login\"), React.createElement(Form.Control, {\n    type: \"text\",\n    ref: loginRef,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    id: \"password\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Form.Label, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, \"Mot de passe\"), React.createElement(Form.Control, {\n    type: \"password\",\n    ref: passwordRef,\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  })), React.createElement(Form.Group, {\n    style: {\n      textAlign: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"button\",\n    onClick: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"S'identifier\")))))));\n}","map":{"version":3,"sources":["D:\\Sandra\\MERN\\projet restaurant\\frontend Restau\\src\\Components\\Login\\LoginEmployerComponent.js"],"names":["aes256","React","useRef","Button","Card","Form","LoginEmployerServices","CenteredContainer","LoginEmployerComponent","loginRef","passwordRef","handleSubmit","password","current","value","login","passwordCrypted","encrypt","then","res","errorLogin","employe","decrypt","localStorage","setItem","window","location","reload","alert","catch","e","console","error","preventDefault","textAlign"],"mappings":"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","sourcesContent":["import aes256 from 'aes256'\r\nimport React, { useRef } from 'react'\r\nimport { Button, Card, Form } from 'react-bootstrap'\r\nimport LoginEmployerServices from '../../Services/LoginEmployerServices'\r\nimport CenteredContainer from '../Shared/CenteredContainer'\r\n\r\nexport default function LoginEmployerComponent() {\r\n    const loginRef = useRef()\r\n    const passwordRef = useRef()\r\n\r\n\r\n    async function handleSubmit() {\r\n\r\n        const password = passwordRef.current.value\r\n        const login = loginRef.current.value\r\n        const passwordCrypted = aes256.encrypt(password, password);\r\n        LoginEmployerServices.login(login, passwordCrypted).then(res => {\r\n            if (res.errorLogin === 0) {\r\n                const employe = aes256.decrypt(password, res.employe)\r\n                localStorage.setItem(\"employe\", employe)\r\n                window.location.reload();\r\n            } else if (res.errorLogin === 1) {\r\n                alert(\"Les informations entrées sont incorrectes\");\r\n            } else if (res.errorLogin === 2) {\r\n                alert(\"Vous n'avez pas de droit de se connecter ici\");\r\n            }\r\n        }).catch(e => {\r\n            console.error(e);\r\n        })\r\n    }\r\n    return (\r\n        <div>\r\n            <CenteredContainer>\r\n                <Card>\r\n                    <Card.Body>\r\n                        <div className=\"d-inline-block\"></div>\r\n                        <h3 className=\"text-center\">Passer une Commande</h3>\r\n                        <Form onSubmit={(e) => { e.preventDefault() }}>\r\n                            <Form.Group id=\"login\">\r\n                                <Form.Label>Login</Form.Label>\r\n                                <Form.Control type=\"text\" ref={loginRef} required />\r\n                            </Form.Group>\r\n                            <Form.Group id=\"password\">\r\n                                <Form.Label>Mot de passe</Form.Label>\r\n                                <Form.Control type=\"password\" ref={passwordRef} required />\r\n                            </Form.Group>\r\n                            <Form.Group style={{ textAlign: \"center\" }}>\r\n                                <Button type=\"button\" onClick={handleSubmit}>\r\n                                    S'identifier\r\n                                </Button>\r\n                            </Form.Group>\r\n                        </Form>\r\n                    </Card.Body>\r\n                </Card>\r\n            </CenteredContainer>\r\n        </div>\r\n    )\r\n}\r\n"]},"metadata":{},"sourceType":"module"}